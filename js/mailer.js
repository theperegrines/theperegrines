$(function(){$('form#getQuote').on('submit',function(event){data={};data['name']=$(this).find('input[type="text"]').val();data['email']=$(this).find('#email').val();data['phone']=$(this).find('#phone').val();data['description']=$(this).find('textarea').val();data['source']=$(this).find('input[type="hidden"]').val();$.ajax({url:'/sendmail',method:'POST',data:data,dataType:'html',success:function(response){$("#quote-modal .alert").text('Thank you for your query. Our solution experts will get in touch with you shortly.').fadeIn(1000);$("#quote-modal form").fadeOut(1000);},error:function(jqXHR,testStatus,errorThrown){console.log('error is:'+ jqXHR+ testStatus+ errorThrown);}});});$('form#applyJob').on('submit',function(event){if($(this).find('input[type="file"]').get(0).files.length==0){let params={};params['name']=$(this).find('input[type="text"]').val();params['email']=$(this).find('#email').val();params['phone']=$(this).find('#phone').val();params['opening']=$(this).find('#job').val();params['description']=$(this).find('textarea').val();$.ajax({url:'/apply',method:'POST',data:params,dataType:'html',success:function(response){$("#job-modal .alert").text('Congratulations on your application. Our HR team will get in touch with you shortly.').fadeIn(1000);$("#job-modal form").fadeOut(1000);},error:function(jqXHR,testStatus,errorThrown){console.log(`Error is:${jqXHR}\n ${errorThrown}`);}});}else{var xhr,formData=new FormData();if(window.XMLHttpRequest){xhr=new XMLHttpRequest();}else{xhr=new ActiveXObject("Microsoft.XMLHTTP");}
formData.append('name',$(this).find('input[type="text"]').val());formData.append('email',$(this).find('#email').val());formData.append('phone',$(this).find('#phone').val());formData.append('opening',$(this).find('#job').val());formData.append('description',$(this).find('textarea').val());file=$(this).find('input[type="file"]').get(0).files[0];formData.append('avatar',file,file.name);xhr.open('POST','/file/upload',true);xhr.onreadystatechange=function(response){if(this.readyState==4&&this.status==200){$("#job-modal .alert").text('Congratulations on your application. Our HR team will get in touch with you shortly.').fadeIn(1000);$("#job-modal form").fadeOut(1000);}else{console.log('Error is: '+ JSON.stringify(response));}};xhr.send(formData);}});$('#downloadCaseStudy').on('submit',function(event){let params={}
params['name']=$(this).find('input[type="text"]').val();params['phone']=$(this).find('#phone').val();params['email']=$(this).find('#email').val();params['description']=$(this).find('textarea').val();params['source']=$(this).find('input[type="hidden"]').val();$.ajax({url:'/download',method:'POST',data:params,dataType:'html',success:function(response){$("#download-modal .alert").text('Thank you for your interest in Skylark Drones. Our solution experts will get in touch with you to understand your requirements better.').fadeIn(1000);$("#download-modal form").fadeOut(1000);},error:function(jqXHR,testStatus,errorThrown){console.log(`Error is:${jqXHR}\n ${errorThrown}`);}});});});